(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[0],{45:function(e,n,t){e.exports=t.p+"static/media/burger-logo.b8503d26.png"},47:function(e,n,t){e.exports=t(74)},56:function(e,n,t){},74:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(23),o=t.n(i),c=t(18),l=t(20),u=t(9),d=t(41),s=(t(56),t(5)),p=t(6),h=t(8),g=t(7),m=t(1),f=t(4),b=t(2),v=t(15),E=t(22),y=t.n(E),x=y.a.create({baseURL:"https://burgerpub-b74df.firebaseio.com/"}),w=t(46);function O(){var e=Object(m.a)(["",""]);return O=function(){return e},e}var k={breadTop:"\n        height: 20%;\n        width: 80%;\n        background: linear-gradient(#bc581e, #e27b36);\n        border-radius: 50% 50% 0 0;\n        box-shadow: inset -15px 0 #c15711;\n        margin: 2% auto;\n        position: relative;\n    ",breadBottom:"\n        height: 13%;\n        width: 80%;\n        background: linear-gradient(#F08E4A, #e27b36);\n        border-radius: 0 0 30px 30px;\n        box-shadow: inset -15px 0 #c15711;\n        margin: 2% auto;\n    ",meat:"\n        width: 80%;\n        height: 8%;\n        background: linear-gradient(#7f3608, #702e05);\n        margin: 2% auto;\n        border-radius: 15px;\n    ",salad:"\n        width: 85%;\n        height: 7%;\n        margin: 2% auto;\n        background: linear-gradient(#228c1d, #91ce50);\n        border-radius: 20px;\n    ",bacon:"\n        width: 80%;\n        height: 3%;\n        background: linear-gradient(#bf3813, #c45e38);\n        margin: 2% auto;\n    ",cheese:"\n        width: 90%;\n        height: 4.5%;\n        margin: 2% auto;\n        background: linear-gradient(#f4d004, #d6bb22);\n        border-radius: 20px;\n    "},C=b.a.div(O(),(function(e){return k[e.type]}));function S(){var e=Object(m.a)(["\n    width: 100%;\n    margin: auto;\n    margin-top: 50px;\n    height: 250px;\n    overflow: auto;\n    text-align: center;\n    font-weight: bold;\n    font-size: 1.2rem;\n\n@media (min-width: 500px) and (min-height: 400px) {\n    width: 350px;\n    height: 300px;\n}\n\n@media (min-width: 500px) and (min-height: 401px) {\n    width: 450px;\n    height: 400px;\n}\n\n@media (min-width: 1000px) and (min-height: 700px) {\n    width: 700px;\n    height: 450px;\n}\n"]);return S=function(){return e},e}var j=b.a.div(S()),I=function(e){var n=Object.keys(e.ingredients).map((function(n){return Object(w.a)(Array(e.ingredients[n])).map((function(e,t){return a.a.createElement(C,{key:n+t,type:n})}))}));return a.a.createElement(j,null,a.a.createElement(C,{type:"breadTop"}),n,a.a.createElement(C,{type:"breadBottom"}))};function T(){var e=Object(m.a)(["\n    padding: 10px;\n    font-weight: bold;\n    width: 80px;\n"]);return T=function(){return e},e}function A(){var e=Object(m.a)(["\n    background-color: ",";\n    display: block;\n    font: inherit;\n    padding: 5px;\n    margin: 0 5px;\n    width: 80px;\n    border: 1px solid #AA6817;\n    cursor: pointer;\n    outline: none;\n    ","\n"]);return A=function(){return e},e}function R(){var e=Object(m.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin: 5px 0;\n"]);return R=function(){return e},e}var D=b.a.div(R()),H=b.a.button(A(),(function(e){return"less"===e.type?"#D39952":"#8F5E1E"}),(function(e){return e.disabled?"background-color: #C7C6C6; cursor: not-allowed; border: 1px solid #ccc; color: #888888;":""})),U=b.a.label(T()),_=function(e){return a.a.createElement(D,null,a.a.createElement(U,null,e.label),a.a.createElement(H,{type:"less",onClick:e.removeIngredient,disabled:e.disabled},"Less"),a.a.createElement(H,{type:"more",onClick:e.addIngredient},"More"))};function F(){var e=Object(m.a)(["\n    background-color: #DAD735;\n    outline: none;\n    cursor: pointer;\n    border: 1px solid #966909;\n    color: #966909;\n    font-family: inherit;\n    font-size: 1.2em;\n    padding: 15px 30px;\n    margin: 40px;\n    box-shadow: 2px 2px 2px #966909;\n    :hover, :active {\n        background-color: #A0DB41;\n        border: 1px solid #966909;\n        color: #966909;\n    }\n"]);return F=function(){return e},e}function P(){var e=Object(m.a)(["\nwidth: 100%;\nbackground-color: #CF8F2E;\ndisplay: flex;\nflex-flow: column;\nalign-items: center;\nbox-shadow: 0 2px 1px #ccc;\nmargin: auto;\npadding: 10px 0;\n"]);return P=function(){return e},e}var L=b.a.div(P()),N=b.a.button(F()),B=[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"}],G=function(e){return a.a.createElement(L,null,a.a.createElement("h2",null,"Price ",e.price.toFixed(2),"$"),B.map((function(n){return a.a.createElement(_,{key:n.label,label:n.label,type:n.type,addIngredient:function(){return e.addIngredient(n.type)},removeIngredient:function(){return e.removeIngredient(n.type)},disabled:e.disabledInfo[n.type]})})),a.a.createElement(N,{onClick:e.orderButtonClick},e.isAuthenticated?"ORDER":"SIGN UP TO ORDER"))};function M(){var e=Object(m.a)(["\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    z-index: 100;\n    left: 0;\n    top: 0;\n    background-color: rgba(0, 0, 0, 0.5);  \n"]);return M=function(){return e},e}var z=b.a.div(M()),q=function(e){return e.show?a.a.createElement(z,{onClick:e.onClick}):null};function V(){var e=Object(m.a)(["\n    position: fixed;\n    z-index: 500;\n    background-color: white;\n    width: 70%;\n    border: 1px solid #ccc;\n    box-shadow: 1px 1px 1px black;\n    padding: 16px;\n    left: 15%;\n    top: 30%;\n    box-sizing: border-box;\n    transition: all 0.3s ease-out;\n    transform: ",";\n    opacity: ",";\n    @media (min-width: 600px) {\n        width: 500px;\n        left: calc(50% - 250px);\n    }\n"]);return V=function(){return e},e}var Y=b.a.div(V(),(function(e){return e.show?"translateY(0)":"translateY(-100vh)"}),(function(e){return e.show?"1":"0"})),W=function(e){Object(h.a)(t,e);var n=Object(g.a)(t);function t(){return Object(s.a)(this,t),n.apply(this,arguments)}return Object(p.a)(t,[{key:"shouldComponentUpdate",value:function(e,n){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(q,{show:this.props.show,onClick:this.props.hideModal}),a.a.createElement(Y,{show:this.props.show},this.props.children))}}]),t}(r.Component);function Z(){var e=Object(m.a)(["\n    background-color: transparent;\n    border: solid 2px ",";\n    outline: none;\n    cursor: pointer;\n    font: inherit;\n    padding: 10px;\n    margin: 10px;\n    font-weight: bold;\n    ",";\n    color: ",";\n\n    &:first-of-type {\n        margin-left: 0;\n    }\n"]);return Z=function(){return e},e}var K={success:"#5C9210",danger:"#800020"},$=b.a.button(Z(),(function(e){return e.disabled?"grey":e.type}),(function(e){return e.disabled?"cursor: not-allowed":""}),(function(e){return e.disabled?"grey":e.type})),J=function(e){return a.a.createElement($,{type:K[e.type],onClick:e.onClick,disabled:e.disabled},e.children)},X=function(e){var n=[];for(var t in e.ingredients)e.ingredients[t]>0&&n.push(a.a.createElement("li",{key:t},a.a.createElement("span",{style:{textTransform:"capitalize"}},t),": ",e.ingredients[t]));var i=a.a.createElement("h3",null,"Do you really want to eat just a stale bread?");return n.length>0&&(i=a.a.createElement(r.Fragment,null,a.a.createElement("h2",null,"Your Order:"),a.a.createElement("p",null,"A delicious burger with the following ingredients:"),a.a.createElement("ul",null,n),a.a.createElement("h3",null,"Price: ",e.price.toFixed(2)," $"),a.a.createElement("p",null,"Continue to checkout?"),a.a.createElement(J,{type:"danger",onClick:e.hideModal},"CANCEL"),a.a.createElement(J,{type:"success",onClick:e.continuePurchase},"CONTINUE"))),i},Q=function(e,n){return function(t){Object(h.a)(o,t);var i=Object(g.a)(o);function o(e){var n;return Object(s.a)(this,o),(n=i.call(this,e)).errorDismissHandler=function(){n.setState({error:null})},n.state={error:null},n}return Object(p.a)(o,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;n.interceptors.request.use((function(n){return e.setState({error:null}),n})),n.interceptors.response.use((function(e){return e}),(function(n){e.setState({error:n})}))}},{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement(W,{show:this.state.error,hideModal:this.errorDismissHandler},a.a.createElement("h2",{style:{color:"#800020"}},"Something went wrong..."),a.a.createElement("p",null,this.state.error?this.state.error.message:null)),a.a.createElement(e,this.props))}}]),o}(r.Component)};function ee(){var e=Object(m.a)(["\n  background: #5C9210;\n  -webkit-animation: load1 1s infinite ease-in-out;\n  animation: load1 1s infinite ease-in-out;\n  width: 1em;\n  height: 4em;\n\n  color: #5C9210;\n  text-indent: -9999em;\n  margin: 88px auto;\n  position: relative;\n  font-size: 11px;\n  -webkit-transform: translateZ(0);\n  -ms-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation-delay: -0.16s;\n  animation-delay: -0.16s;\n\n\n &:before, &:after {\n    background: #5C9210;\n    -webkit-animation: load1 1s infinite ease-in-out;\n    animation: load1 1s infinite ease-in-out;\n    width: 1em;\n    height: 4em;\n    position: absolute;\n    top: 0;\n    content: '';\n }\n\n &:before {\n    left: -1.5em;\n    -webkit-animation-delay: -0.32s;\n    animation-delay: -0.32s;\n}\n\n  &:after {\n    left: 1.5em;\n}\n\n@-webkit-keyframes load1 {\n  0%,\n  80%,\n  100% {\n    box-shadow: 0 0;\n    height: 4em;\n  }\n  40% {\n    box-shadow: 0 -2em;\n    height: 5em;\n  }\n}\n@keyframes load1 {\n  0%,\n  80%,\n  100% {\n    box-shadow: 0 0;\n    height: 4em;\n  }\n  40% {\n    box-shadow: 0 -2em;\n    height: 5em;\n  }\n}\n"]);return ee=function(){return e},e}var ne=b.a.div(ee()),te=function(){return a.a.createElement(ne,null,"Loading...")},re=function(e,n,t){return function(r){r({type:"PURCHASE_BURGER_START"}),x.post("/orders.json?auth="+t,e).then((function(t){r(function(e,n){return{type:"PURCHASE_BURGER_SUCCESS",order:Object(v.a)(Object(v.a)({},n),{},{id:e})}}(t.data.name,e)),n("/")})).catch((function(e){return function(e){return{type:"PURCHASE_BURGER_FAIL",error:e}}(e)}))}},ae=function(e,n){return{type:"AUTH_SUCCESS",token:e,userId:n}},ie=function(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},oe=function(e){return function(n){setTimeout((function(){n(ie())}),1e3*e)}},ce=function(e){Object(h.a)(t,e);var n=Object(g.a)(t);function t(){var e;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).state={purchasing:!1,loading:!1},e.orderButtonHandler=function(){e.props.isAuthenticated?e.setState({purchasing:!0}):(e.props.setAuthRedirectUrl("/checkout"),e.props.history.push("/auth"))},e.hidePurchaseModalHandler=function(){e.setState({purchasing:!1})},e.continuePurchaseHandler=function(){e.props.history.replace("/checkout")},e.componentDidMount=function(){e.props.initIngredients()},e}return Object(p.a)(t,[{key:"render",value:function(){var e=Object(v.a)({},this.props.ingredients);for(var n in e)e[n]=e[n]<=0;var t=this.props.error?a.a.createElement("p",null,"Sorry, can't load the ingredients"):a.a.createElement(te,null);return this.props.ingredients&&(t=a.a.createElement(r.Fragment,null,a.a.createElement(I,{ingredients:this.props.ingredients}),a.a.createElement(G,{addIngredient:this.props.addIngredientHandler,removeIngredient:this.props.removeIngredientHandler,price:this.props.totalPrice,disabledInfo:e,orderButtonClick:this.orderButtonHandler,isAuthenticated:this.props.isAuthenticated}))),a.a.createElement(r.Fragment,null,a.a.createElement(W,{show:this.state.purchasing,hideModal:this.hidePurchaseModalHandler},a.a.createElement(X,{ingredients:this.props.ingredients,hideModal:this.hidePurchaseModalHandler,continuePurchase:this.continuePurchaseHandler,price:this.props.totalPrice,loading:this.state.loading})),t)}}]),t}(r.Component),le=Q(Object(u.b)((function(e){return{ingredients:e.burger.ingredients,totalPrice:e.burger.totalPrice,error:e.burger.error,isAuthenticated:null!==e.auth.token}}),(function(e){return{addIngredientHandler:function(n){return e(function(e){return{type:"ADD_INGREDIENT",ingType:e}}(n))},removeIngredientHandler:function(n){return e(function(e){return{type:"REMOVE_INGREDIENT",ingType:e}}(n))},initIngredients:function(){return e((function(e){y.a.get("https://burgerpub-b74df.firebaseio.com/ingredients.json").then((function(n){e({type:"SET_INGREDIENTS",ingredients:n.data})})).catch((function(n){e({type:"FETCH_INGREDIENTS_FAIL"})}))}))},setAuthRedirectUrl:function(n){return e(function(e){return{type:"SET_AUTH_REDIRECT_URL",authRedirectUrl:e}}(n))}}}))(ce),x),ue=t(45),de=t.n(ue);function se(){var e=Object(m.a)(["\n  height: 100%;\n"]);return se=function(){return e},e}function pe(){var e=Object(m.a)(["\n  background-color: white;\n  padding: 6px;\n  height: ",";\n  border-radius: 7px;\n"]);return pe=function(){return e},e}var he=b.a.div(pe(),(function(e){return e.height})),ge=b.a.img(se()),me=function(e){return a.a.createElement(he,{height:e.height},a.a.createElement(ge,{src:de.a,alt:"BurgerBuilder"}))};function fe(){var e=Object(m.a)(["\n    /* Mobile styles */\n    text-decoration: none;\n    width: 100%;\n    box-sizing: border-box;\n    display: block;\n    color: ",";\n    &:hover, &:active{\n        color: '#40A4C8';\n    }\n\n    /* Desktop styles */\n    @media (min-width: 500px) {\n        color: white;\n        height: 100%;\n        padding: 16px 10px;\n        border-bottom: 4px solid transparent;    \n        &:hover, &:active{\n        background-color: #8F5C2C;\n        border-bottom: 4px solid #40A4C8;\n        }\n    }\n"]);return fe=function(){return e},e}function be(){var e=Object(m.a)(["\n    /* Mobile styles */\n    margin: 10px 0;\n    box-sizing: border-box;\n    display: block;\n    width: 100%;\n    /* Desktop styles */\n    @media (min-width: 500px) {\n        margin: 0;\n        display: flex;\n        height: 100%;\n        width: auto;\n        align-items: center;\n    }\n"]);return be=function(){return e},e}var ve=b.a.li(be()),Ee=b.a.div(fe(),(function(e){return e.active?"#40A4C8":"#8F5C2C"})),ye=function(e){var n={textDecoration:"none",backgroundColor:e.active?"#8F5C2C":"none"};return a.a.createElement(ve,null,a.a.createElement(c.b,{to:e.href,style:n},a.a.createElement(Ee,null,e.children)))};function xe(){var e=Object(m.a)(["\n    margin: 35px 0 0 8px;\n    padding: 0;\n    list-style: none;\n    align-items: center;\n    height: 100%;\n    @media (min-width: 500px){\n        display: flex;\n        margin: 0;\n    }\n"]);return xe=function(){return e},e}var we=b.a.ul(xe()),Oe=function(e){return a.a.createElement(we,null,a.a.createElement(ye,{href:"/builder"},"Builder"),e.isAuthenticated?a.a.createElement(r.Fragment,null,a.a.createElement(ye,{href:"/orders"},"Orders"),a.a.createElement(ye,{href:"/logout"},"Log out")):a.a.createElement(ye,{href:"/auth"},"Sign up"))};function ke(){var e=Object(m.a)(["\n    width: 30px;\n    height: 4px;\n    background-color: white;\n    margin: 5px 0;\n    border-radius: 5px;\n"]);return ke=function(){return e},e}var Ce=b.a.div(ke()),Se=function(e){return a.a.createElement("div",{onClick:e.onClick},a.a.createElement(Ce,null),a.a.createElement(Ce,null),a.a.createElement(Ce,null))};function je(){var e=Object(m.a)(["\n    @media (min-width: 500px){\n        display: none;\n    }\n"]);return je=function(){return e},e}function Ie(){var e=Object(m.a)(["\n    @media (max-width: 499px){\n        display: none;\n    }\n"]);return Ie=function(){return e},e}function Te(){var e=Object(m.a)(["\n    height: 56px;\n    width: 100%;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background-color: #703B09;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 20px;\n    box-sizing: border-box;\n    z-index: 90;\n"]);return Te=function(){return e},e}var Ae=b.a.header(Te()),Re=b.a.div(Ie()),De=b.a.div(je()),He=function(e){return a.a.createElement(Ae,null,a.a.createElement(me,{height:"50%"}),a.a.createElement(Re,null,a.a.createElement(Oe,{isAuthenticated:e.isAuthenticated})),a.a.createElement(De,null,a.a.createElement(Se,{onClick:e.showSideDrawer})))};function Ue(){var e=Object(m.a)(["\n    position: fixed;\n    width: 280px;\n    max-width: 70%;\n    height: 100%;\n    left: 0;\n    top: 0;\n    z-index: 200;\n    background-color: white;\n    padding: 32px 16px;\n    box-sizing: border-box;\n    transition: transform 0.3s ease-out;\n    /* Show/hide sideDrawer with animation*/\n    transform: ",";\n    @media (min-width: 500px) {\n        display: none;\n    }\n"]);return Ue=function(){return e},e}var _e=b.a.div(Ue(),(function(e){return e.show?"translateX(0)":"translateX(-100%)"})),Fe=function(e){return a.a.createElement(r.Fragment,null,a.a.createElement(q,{show:e.show,onClick:e.hideSideDrawer}),a.a.createElement(_e,{show:e.show},a.a.createElement(me,{height:"6%"}),a.a.createElement("div",{onClick:e.hideSideDrawer},a.a.createElement(Oe,{isAuthenticated:e.isAuthenticated}))))};function Pe(){var e=Object(m.a)(["\n  text-align: center;\n  margin: 40px;\n  padding: 10px;\n  border: 2px solid grey;\n"]);return Pe=function(){return e},e}var Le=b.a.div(Pe()),Ne=function(e){return a.a.createElement(Le,null,a.a.createElement("h1",null,"So that's your Burger, is it all right?"),a.a.createElement("div",null,a.a.createElement(I,{ingredients:e.ingredients})),a.a.createElement("div",null,a.a.createElement(J,{type:"danger",onClick:e.checkoutCancelHandler},"NOT SURE"),a.a.createElement(J,{type:"success",onClick:e.checkoutContinueHandler},"LOOKS GOOD, GO ON!")))},Be=function(e){Object(h.a)(t,e);var n=Object(g.a)(t);function t(){var e;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).checkoutCancelHandler=function(){e.props.history.replace("/")},e.checkoutContinueHandler=function(){e.props.history.replace("/contact-details")},e}return Object(p.a)(t,[{key:"render",value:function(){var e=a.a.createElement(f.a,{to:"/"});return this.props.ingredients&&(e=a.a.createElement("div",null,a.a.createElement(Ne,{ingredients:this.props.ingredients,checkoutCancelHandler:this.checkoutCancelHandler,checkoutContinueHandler:this.checkoutContinueHandler}))),e}}]),t}(r.Component),Ge=Object(u.b)((function(e){return{ingredients:e.burger.ingredients}}))(Be);function Me(){var e=Object(m.a)(["\n    width: 80%;\n    border: 1px solid #eee;\n    box-shadow: 0 2px 3px #ccc;\n    padding: 10px;\n    margin: 10px auto;\n    box-sizing: border-box;\n"]);return Me=function(){return e},e}var ze=b.a.div(Me()),qe=function(e){var n=[];for(var t in e.ingredients)e.ingredients[t]>0&&n.push(a.a.createElement("li",{key:t},a.a.createElement("span",{style:{textTransform:"capitalize"}},t),": ",e.ingredients[t]));return a.a.createElement(ze,null,a.a.createElement("h3",null,"Ingredients:"),n,a.a.createElement("p",null,"Price ",a.a.createElement("strong",null,"USD ",e.price.toFixed(2))))},Ve=function(e){Object(h.a)(t,e);var n=Object(g.a)(t);function t(){return Object(s.a)(this,t),n.apply(this,arguments)}return Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchOrders(this.props.token,this.props.userId)}},{key:"render",value:function(){var e=a.a.createElement(te,null);return this.props.loading||(e=a.a.createElement("div",null,this.props.orders.map((function(e){return a.a.createElement(qe,{key:e.id,ingredients:e.ingredients,price:e.price})})))),e}}]),t}(r.Component),Ye=Object(u.b)((function(e){return{orders:e.order.orders,loading:e.order.loading,token:e.auth.token,userId:e.auth.userId}}),(function(e){return{fetchOrders:function(n,t){return e(function(e,n){return function(t){t({type:"FETCH_ORDERS_START"});var r="?auth="+e+'&orderBy="userId"&equalTo="'+n+'"';x.get("/orders.json"+r).then((function(e){var n=[];for(var r in e.data)n.push(Object(v.a)(Object(v.a)({},e.data[r]),{},{id:r}));t(function(e){return{type:"FETCH_ORDERS_SUCCESS",orders:e}}(n))})).catch((function(e){t(function(e){return{type:"FETCH_ORDERS_FAIL",error:e}}(e))}))}}(n,t))}}}))(Q(Ve,x)),We=t(16);function Ze(){var e=Object(m.a)(["\n    ","\n"]);return Ze=function(){return e},e}function Ke(){var e=Object(m.a)(["\n    ","\n    background-color: ",";\n"]);return Ke=function(){return e},e}function $e(){var e=Object(m.a)(["\n    ","\n    background-color: ",";\n"]);return $e=function(){return e},e}function Je(){var e=Object(m.a)(["\n  font-weight: bold;\n  display: block;\n  margin-bottom: 8px;\n"]);return Je=function(){return e},e}function Xe(){var e=Object(m.a)(["\n  width: 100%;\n  padding: 10px;\n  box-sizing: border-box;\n"]);return Xe=function(){return e},e}var Qe=b.a.div(Xe()),en=b.a.label(Je()),nn="\n    outline: none;\n    border: 1px solid #ccc;\n    background-color: white;\n    font: inherit;\n    padding: 6px 10px;\n    display: block;\n    width: 100%;\n    box-sizing: border-box;\n    &:focus {\n        outline: none;\n        background-color: #ccc;\n    }\n",tn=b.a.input($e(),nn,(function(e){return e.invalid?"#FFCCCB":"white"})),rn=b.a.textarea(Ke(),nn,(function(e){return e.invalid?"#FFCCCB":"white"})),an=b.a.select(Ze(),nn),on=function(e){var n;switch(e.elementType){case"textarea":n=a.a.createElement(rn,Object.assign({},e.elementConfig,{value:e.value,onChange:function(n){return e.changed(n,e.id)},invalid:e.invalid}));break;case"select":n=a.a.createElement(an,{value:e.elementConfig.value,onChange:function(n){return e.changed(n,e.id)}},e.elementConfig.options.map((function(e){return a.a.createElement("option",{key:e.value,value:e.value},e.displayValue)})));break;default:n=a.a.createElement(tn,Object.assign({},e.elementConfig,{value:e.value,onChange:function(n){return e.changed(n,e.id)},invalid:e.invalid}))}return a.a.createElement(Qe,null,a.a.createElement(en,null,e.label),n)},cn=function(e,n){return Object(v.a)(Object(v.a)({},e),n)},ln=function(e,n){var t=e.replace(/ /g,"");return(!n.required||""!==t)&&(!(n.maxLength&&t.length>n.maxLength)&&!(n.minLength&&t.length<n.minLength))},un=function(e){for(var n in e)if(!e[n].valid)return!1;return!0};function dn(){var e=Object(m.a)(["\n  margin: 40px auto;\n  text-align: center;\n  border: 2px solid grey;\n  padding: 10px;\n  width: 90%;\n  max-width: 700px;\n"]);return dn=function(){return e},e}var sn=b.a.form(dn()),pn=function(e){Object(h.a)(t,e);var n=Object(g.a)(t);function t(){var e;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).state={orderForm:{name:{elementType:"input",elementConfig:{type:"text",placeholder:"Your Name"},value:"",validation:{required:!0},valid:!1,touched:!1},street:{elementType:"input",elementConfig:{type:"text",placeholder:"Street"},value:"",validation:{required:!0},valid:!1,touched:!1},zipCode:{elementType:"input",elementConfig:{type:"text",placeholder:"ZIP Code"},value:"",validation:{required:!0,minLength:6,maxLength:6,isNumeric:!0},valid:!1,touched:!1},country:{elementType:"input",elementConfig:{type:"text",placeholder:"Country"},value:"",validation:{required:!0},valid:!1,touched:!1},email:{elementType:"input",elementConfig:{type:"email",placeholder:"Your E-Mail"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},deliveryMethod:{elementType:"select",elementConfig:{options:[{value:"fastest",displayValue:"Fastest"},{value:"cheapest",displayValue:"Cheapest"}]},value:"cheapest",validation:{},valid:!0}},formIsValid:!1},e.inputChangedHandler=function(n,t){var r=e.state.orderForm,a=cn(r,Object(We.a)({},t,cn(r[t],{value:n.target.value,valid:ln(n.target.value,r[t].validation),touched:!0})));e.setState({orderForm:a,formIsValid:un(a)})},e.postOrderHandler=function(n){n.preventDefault();var t={};for(var r in e.state.orderForm)t[r]=e.state.orderForm[r].value;var a={userId:e.props.userId,ingredients:e.props.ingredients,price:e.props.totalPrice,formData:t};e.props.purchaseBurger(a,e.props.history.push,e.props.token)},e.cancelOrderHandler=function(){e.props.history.replace("/")},e}return Object(p.a)(t,[{key:"render",value:function(){var e=this,n=[];for(var t in this.state.orderForm)n.push({id:t,config:this.state.orderForm[t]});var r=a.a.createElement(sn,{onSubmit:this.postOrderHandler},a.a.createElement("h4",null,"Enter your contact details please:"),n.map((function(n){return a.a.createElement(on,Object.assign({key:n.id,id:n.id},n.config,{changed:e.inputChangedHandler,invalid:!n.config.valid&&n.config.touched}))})),a.a.createElement(J,{type:"danger",onClick:this.cancelOrderHandler},"CANCEL"),a.a.createElement(J,{type:"success",disabled:!this.state.formIsValid},"ORDER"));return this.props.loading&&(r=a.a.createElement(te,null)),r}}]),t}(r.Component),hn=Q(Object(u.b)((function(e){return{ingredients:e.burger.ingredients,totalPrice:e.burger.totalPrice,loading:e.order.loading,token:e.auth.token,userId:e.auth.userId}}),(function(e){return{purchaseBurger:function(n,t,r){return e(re(n,t,r))}}}))(pn),x);function gn(){var e=Object(m.a)(["\n  margin: 40px auto;\n  text-align: center;\n  border: 2px solid grey;\n  padding: 10px;\n  width: 90%;\n  max-width: 450px;\n"]);return gn=function(){return e},e}var mn=b.a.div(gn()),fn=function(e){Object(h.a)(t,e);var n=Object(g.a)(t);function t(){var e;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).state={controls:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Mail adress"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}},isSignup:!0},e.inputChangedHandler=function(n,t){var r=e.state.controls,a=cn(r,Object(We.a)({},t,cn(r[t],{value:n.target.value,valid:ln(n.target.value,r[t].validation),touched:!0})));e.setState({controls:a,formIsValid:un(a)})},e.loginSubmitHandler=function(n){n.preventDefault(),e.props.auth(e.state.controls.email.value,e.state.controls.password.value,e.state.isSignup,e.props.history.push,e.props.authRedirectUrl)},e.switchAuthModeHandler=function(){e.setState((function(e){return{isSignup:!e.isSignup}}))},e}return Object(p.a)(t,[{key:"render",value:function(){var e=this,n=[];for(var t in this.state.controls)n.push({inputName:t,config:this.state.controls[t]});var r=n.map((function(n){return a.a.createElement(on,Object.assign({key:n.inputName,id:n.inputName},n.config,{changed:e.inputChangedHandler,invalid:!n.config.valid&&n.config.touched}))})),i=null;this.props.error&&(i=a.a.createElement("p",{style:{color:"#800020"}},this.props.error.message));var o=a.a.createElement(te,null);return this.props.loading||(o=a.a.createElement("div",null,a.a.createElement(mn,null,a.a.createElement("h3",null,this.state.isSignup?"Sign Up":"Log In"),a.a.createElement("form",null,r),a.a.createElement(J,{type:"success",onClick:this.loginSubmitHandler},this.state.isSignup?"SIGN UP":"LOGIN"),a.a.createElement("hr",{style:{marginTop:"40px"}}),a.a.createElement("p",null,this.state.isSignup?"Already have any account?":"Don't have an account yet?"),a.a.createElement(J,{type:"danger",onClick:this.switchAuthModeHandler},"GO TO ",this.state.isSignup?"LOGIN":"SIGN UP"),i))),o}}]),t}(r.Component),bn=Object(u.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,authRedirectUrl:e.auth.authRedirectUrl}}),(function(e){return{auth:function(n,t,r,a,i){return e(function(e,n,t,r,a){return function(i){i({type:"AUTH_START"});var o={email:e,password:n,returnSecureToken:!0},c="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCc2OZLI_YCHcLR1hW5vPGCj8lD6rkrKfs";t||(c="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCc2OZLI_YCHcLR1hW5vPGCj8lD6rkrKfs"),y.a.post(c,o).then((function(e){i(ae(e.data.idToken,e.data.localId));var n=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("userId",e.data.localId),localStorage.setItem("expirationDate",n),i(oe(e.data.expiresIn)),r(a)})).catch((function(e){e.response?i(function(e){return{type:"AUTH_FAIL",error:e}}(e.response.data.error)):console.log(e)}))}}(n,t,r,a,i))}}}))(fn),vn=function(e){Object(h.a)(t,e);var n=Object(g.a)(t);function t(){return Object(s.a)(this,t),n.apply(this,arguments)}return Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.logout()}},{key:"render",value:function(){return a.a.createElement(f.a,{to:"/auth"})}}]),t}(r.Component),En=Object(u.b)(null,(function(e){return{logout:function(){return e(ie())}}}))(vn);function yn(){var e=Object(m.a)(["\n  margin-top: 100px;\n"]);return yn=function(){return e},e}var xn=b.a.main(yn()),wn=function(e){Object(h.a)(t,e);var n=Object(g.a)(t);function t(){var e;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).state={showSideDrawer:!1},e.showSideDrawerHandler=function(){e.setState({showSideDrawer:!0})},e.hideSideDrawerHandler=function(){e.setState({showSideDrawer:!1})},e}return Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.tryAutoLogin()}},{key:"render",value:function(){var e=a.a.createElement(f.d,null,a.a.createElement(f.b,{path:"/builder",component:le}),a.a.createElement(f.b,{path:"/auth",component:bn}),a.a.createElement(f.a,{from:"/",to:"/builder"}));return this.props.isAuthenticated&&(e=a.a.createElement(f.d,null,a.a.createElement(f.b,{path:"/builder",component:le}),a.a.createElement(f.b,{path:"/checkout",exact:!0,component:Ge}),a.a.createElement(f.b,{path:"/contact-details",component:hn}),a.a.createElement(f.b,{path:"/orders",component:Ye}),a.a.createElement(f.b,{path:"/logout",component:En}),a.a.createElement(f.a,{from:"/",to:"/builder"}))),a.a.createElement(r.Fragment,null,a.a.createElement(He,{showSideDrawer:this.showSideDrawerHandler,isAuthenticated:this.props.isAuthenticated}),a.a.createElement(Fe,{show:this.state.showSideDrawer,hideSideDrawer:this.hideSideDrawerHandler,isAuthenticated:this.props.isAuthenticated}),a.a.createElement(xn,null,e))}}]),t}(r.Component),On=Object(u.b)((function(e){return{isAuthenticated:null!==e.auth.token}}),(function(e){return{tryAutoLogin:function(){return e((function(e){var n=localStorage.getItem("token");if(n){var t=new Date(localStorage.getItem("expirationDate")),r=new Date;if(t<r)e(ie());else{var a=localStorage.getItem("userId");e(ae(n,a)),e(oe((t-r)/1e3))}}}))}}}))(wn);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var kn={bread:3,meat:1.3,bacon:.8,salad:.5,cheese:.4},Cn=function(e){var n=0;for(var t in e)n+=e[t];return n}(kn),Sn={ingredients:null,totalPrice:Cn,error:!1},jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_INGREDIENT":return cn(e,{ingredients:cn(e.ingredients,Object(We.a)({},n.ingType,e.ingredients[n.ingType]+1)),totalPrice:e.totalPrice+=kn[n.ingType]});case"REMOVE_INGREDIENT":return cn(e,{ingredients:cn(e.ingredients,Object(We.a)({},n.ingType,e.ingredients[n.ingType]-1)),totalPrice:e.totalPrice-=kn[n.ingType]});case"SET_INGREDIENTS":return cn(e,{ingredients:n.ingredients,totalPrice:Cn,error:!1});case"FETCH_INGREDIENTS_FAIL":return cn(e,{error:!0});default:return e}},In={orders:[],loading:!1,error:!1},Tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"PURCHASE_BURGER_START":return cn(e,{loading:!0});case"PURCHASE_BURGER_SUCCESS":return cn(e,{loading:!1,orders:e.orders.concat(n.order)});case"PURCHASE_BURGER_FAIL":return cn(e,{loading:!1,error:n.error});case"FETCH_ORDERS_START":return cn(e,{loading:!0});case"FETCH_ORDERS_SUCCESS":return cn(e,{loading:!1,orders:n.orders});case"FETCH_ORDERS_FAIL":return cn(e,{loading:!1,error:n.error});default:return e}},An={token:null,userId:null,error:null,loading:!1,authRedirectUrl:"/"},Rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"AUTH_START":return cn(e,{error:null,loading:!0});case"AUTH_SUCCESS":return cn(e,{token:n.token,userId:n.userId,error:null,loading:!1});case"AUTH_FAIL":return cn(e,{loading:!1,error:n.error});case"AUTH_LOGOUT":return cn(e,{token:null,userId:null});case"SET_AUTH_REDIRECT_URL":return cn(e,{authRedirectUrl:n.authRedirectUrl});default:return e}},Dn=Object(l.c)({burger:jn,order:Tn,auth:Rn}),Hn=l.d,Un=Object(l.e)(Dn,Hn(Object(l.a)(d.a))),_n=a.a.createElement(u.a,{store:Un},a.a.createElement(c.a,null,a.a.createElement(On,null)));o.a.render(_n,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.e1e5cda8.chunk.js.map